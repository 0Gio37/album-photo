{% extends 'base.html.twig' %}

{% block title %}Ajouter une photo{% endblock %}

{% block body %}

    <div class="bg-gray-800 pt-6">
        <div class="rounded-lg bg-gradient-to-b from-gray-700 to-gray-500 p-8 mx-60 shadow-lg h-screen">

            <div class="flex justify-end mb-6">
                <a href="{{ path('home') }}">
                    <button class="px-3 py-2 text-sm rounded-lg text-gray-300 bg-red-900 hover:bg-red-700">
                        Retour Page d'accueil
                    </button>
                </a>
            </div>

            {% if  visibleTaggedPersonnBtn == false %}
                <section class="rounded-full py-4 bg-blue-900 font-bold text-center text-gray-400 px-8">
                    Ajouter une nouvelle photo
                </section>
            {%  endif %}


            <section>
                {% if  visibleTaggedPersonnBtn == false %}
                {{ form_start(imageForm) }}
                    <div>{{ form_row(imageForm.fileName) }}</div>
                    {% if  showCurrentPhotoTwig == false %}
                        <button class="px-3 py-2 text-sm rounded-lg text-gray-300 bg-blue-900 hover:bg-blue-700">
                            Sélectionner
                        </button>
                    {% endif %}
                {{ form_end(imageForm) }}
                {% endif %}

            {% if  showCurrentPhotoTwig == true %}
                <div>
                    <img class="#" src='{{ asset('uploads/'~currentImageFileName) }}' alt="current-photo" />
                </div>
            {% endif %}

            </section>

            <section>
                {% if  showCurrentPhotoTwig == true %}
                    <p class="text-right hover:text-red-500">L'album n'est pas dans la liste ? <a href="#" class="underline hover:text-white modal-open">Créez-en un nouveau</a></p>

                    {% include 'modal/addAlbum.html.twig' %}

                    {{ form_start(photoForm) }}
                        <div>{{ form_row(photoForm.album) }}</div>
                        {# <div>{{ form_row(photoForm.year) }}</div> #}
                        <div>{{ form_row(photoForm.commentaire) }}</div>
                        <button class="px-3 py-2 text-sm rounded-lg text-gray-300 bg-blue-900 hover:bg-blue-700">
                            Ajouter la Photo
                        </button>
                    {{ form_end(photoForm) }}
                {% endif %}
            </section>

            {% if  visibleTaggedPersonnBtn == true %}
                <section class="flex justify-center mt-40">
                    <div class="mr-6 w-1/3">
                        <a href="{{ path('add_tag') }}">
                            <button class="px-3 py-4 text-sm rounded-lg text-gray-300 bg-green-900 hover:bg-green-700 w-full">
                                Identifier des personnes
                            </button>
                        </a>
                    </div>
                    <div class="ml-6 w-1/3">
                        <a href="{{ path('add_photo') }}">
                            <button class="px-3 py-4 text-sm rounded-lg text-gray-300 bg-blue-900 hover:bg-blue-700 w-full">
                                Ajouter une autre photo
                            </button>
                        </a>
                    </div>
                </section>
            {% endif %}
        </div>
    </div>

{% endblock %}


